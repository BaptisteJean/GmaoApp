<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
	>

	<f:metadata>
		<f:viewParam name="id" value='#{interventionBean.id}'/>
		<f:event type="preRenderView" listener='#{interventionBean.retrieve}'/>
	</f:metadata>

	<ui:param name="pageTitle" value="Create Intervention"/>

	 <ui:composition template="/resources/scaffold/pageTemplate.xhtml">
            <ui:define name="left">
                <div id="wrapper">
                    <div class="menuleft">
                  <ul class="nav navbar-default navbar-side" >
           
              
        
                    <li >
                        <a  href="../dashboard/dashboard.xhtml" >Tableau de bord</a>
                    </li>
                    <li>
                        <a href="../materiel/create.xhtml" >Materiel </a>
                         
                    </li>
                     <li>
                        <a href="../client/create.xhtml"  >Clients </a>
                        
                    </li>
                    <li>
                        <a href="../intervention/create.xhtml" class="active-menu">Interventions </a>
                        
                    </li>
                     <li>
                        <a href="../technicien/create.xhtml">Techniciens </a>
                         
                    </li>
      
                     <li>
                        <a href="../planification/create.xhtml">Planification</a>
                    </li>
                    <li>
                        <a href="../equipe/create.xhtml">Equipe</a>
                    </li>
                    <li>
                        <a href="../archivage/create.xhtml">Archivage </a>
                    </li>
                     <li>
                        <a href="../rapport/create.xhtml">Rapport</a>
                    </li>
                    <li>
                        <a href="../departement/create.xhtml">Departement </a>
                    </li>
                        </ul>
               
        
                </div>
                </div>
            </ui:define>
            <ui:define name="content">
                <h:form id="form">
    <p:growl id="msgs" />
    <h3 style="margin-top:0;color:#18547c;font-weight: bold;">Interventions</h3>
    <p:panel header="Nouvelle intervention" style="margin-bottom:20px">
        <h:panelGrid  styleClass="connex-tech" id="logPanelGrid" style=" margin-top: 25px; text-align: left" cellpadding="2" columns="3">
            <h:panelGroup>
                <h:outputLabel value="chef d'equipe: " for="intervenant"></h:outputLabel>
            </h:panelGroup>
            <p:spacer width="50px"/>
            <h:panelGroup>
                <p:inputText id="intervenant" value="#{equipeBean.equipe.chefEquipe}" required="true"/>
            </h:panelGroup>
            
            <h:panelGroup>
            <p:outputLabel for="Client" value="Client * " />
            </h:panelGroup>
            <p:spacer width="20px"/>
            <h:panelGroup>
                <p:selectOneMenu id="Client" value="#{clientBean.client.nomClient}" style="width:203px">
            <f:selectItem itemLabel="choisir un client" itemValue="" />
            <f:selectItem itemLabel="Xbox One" itemValue="Xbox One" />
            <f:selectItem itemLabel="PS4" itemValue="PS4" />
            <f:selectItem itemLabel="Wii U" itemValue="Wii U" />
        </p:selectOneMenu>
            </h:panelGroup>
            
            
            <h:panelGroup style="width: 50px">
            <p:outputLabel for="site" value="Site* " />
            </h:panelGroup>
            <p:spacer width="20px"/>
            
        <p:selectOneMenu id="site" value="#{selectOneMenuView.console}" style="width:203px">
            <f:selectItem itemLabel="choisir le site" itemValue="" />
            <f:selectItem itemLabel="Xbox One" itemValue="Xbox One" />
            <f:selectItem itemLabel="PS4" itemValue="PS4" />
            <f:selectItem itemLabel="Wii U" itemValue="Wii U" />
        </p:selectOneMenu>  
            
            <h:panelGroup>
                <p:outputLabel for="materiel" value="Materiel" />
            </h:panelGroup>
            <p:spacer width="20px"/>
            <h:panelGroup>
        <p:selectOneMenu id="materiel" value="#{selectOneMenuView.console}" style="width:203px">
            <f:selectItem itemLabel="choisir le materiel" itemValue="" />
            <f:selectItem itemLabel="Xbox One" itemValue="Xbox One" />
            <f:selectItem itemLabel="PS4" itemValue="PS4" />
            <f:selectItem itemLabel="Wii U" itemValue="Wii U" />
        </p:selectOneMenu>
            </h:panelGroup>
            
            <h:panelGroup>
            <h:outputLabel value="Description " for="description"/>
            </h:panelGroup>
            <p:spacer width="20px"/>
            <h:panelGroup>
                <p:inputTextarea id="description" value="#{interventionBean.intervention.descriptionIntervention}" required="true"/>
            </h:panelGroup>
            
            
            
            <h:panelGroup>
            <p:outputLabel for="date" value="Date:" />
            </h:panelGroup>
            <p:spacer width="20px"/>
            <h:panelGroup>
                <p:calendar id="date" value="#{interventionBean.intervention.dateIntervention}" pattern="dd-MMMM-yyyy"  />
            </h:panelGroup  >
            
        </h:panelGrid>
        <p style="text-align: center;margin-top: 15px">
                <p:commandButton id="btn_reset" value="Annuler" type="reset"/>
                <p:spacer width="50px"/>
                <p:commandButton id="btn_add" value="Enregistrer" />
            </p>
    </p:panel>
                </h:form>
                
                <h:form>
                    
                    <p:outputPanel id="books">
        <p:dataTable value="#{collectorView.books}" var="book" id="booksTable">
 <f:facet name="header">
            Liste des interventions 
        </f:facet>
            <p:column headerText="Chef d'equipe">
                <h:outputText value="#{book.title}" />
            </p:column>
 
            <p:column headerText="Description">
                <f:facet name="header">
                    <h:outputText value="Description" />
                </f:facet>
                <h:outputText value="#{book.author}" />
            </p:column>
            
            
            <p:column headerText="Client">
                <h:outputText value="#{book.title}" />
            </p:column>
 
            <p:column headerText="Materiel concerne">
                <f:facet name="header">
                    <h:outputText value="Materiel" />
                </f:facet>
            </p:column>
 
            <p:column headerText="Action">
                <p:commandLink value="Remove" update=":form:books" process=":form:books">
                    <p:collector value="" removeFrom="" unique="true"/>
                </p:commandLink>
            </p:column>
 
        </p:dataTable>
        
       
    </p:outputPanel>
                </h:form>
            </ui:define>

        </ui:composition>
</html>